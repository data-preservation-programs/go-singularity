user@localhost:~/test$ singularity --verbose storage create local source '/tempDir/0'
ID  Name    CreatedAt            UpdatedAt            Type   Path                                            Config                                                                                                                                                                                                                                                                                  Metadata  
1   source  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/0  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     

user@localhost:~/test$ singularity --verbose storage create local output '/tempDir/1'
ID  Name    CreatedAt            UpdatedAt            Type   Path                                                                        Config                                                                                                                                                                                                                                                                                  Metadata  
2   output  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/1  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     

user@localhost:~/test$ singularity --verbose prep create --max-size 62914560 --source source --output output
ID  CreatedAt            UpdatedAt            DeleteAfterExport  MaxSize   PieceSize  
1   2023-08-30 13:20:19  2023-08-30 13:20:19  false              62914560  67108864   
    Source Storages:
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                            Config                                                                                                                                                                                                                                                                                  Metadata  
        1   source  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/0  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     
    Output Storages:
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                                                        Config                                                                                                                                                                                                                                                                                  Metadata  
        2   output  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/1  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     

user@localhost:~/test$ singularity --verbose prep list
ID  CreatedAt            UpdatedAt            DeleteAfterExport  MaxSize   PieceSize  
1   2023-08-30 13:20:19  2023-08-30 13:20:19  false              62914560  67108864   
    Source Storages:
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                            Config                                                                                                                                                                                                                                                                                  Metadata  
        1   source  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/0  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     
    Output Storages:
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                                                        Config                                                                                                                                                                                                                                                                                  Metadata  
        2   output  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/1  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     

user@localhost:~/test$ singularity --verbose prep start-scan 1 source
ID  Type  State  ErrorMessage  ErrorStackTrace  WorkerID  AttachmentID  
1   scan  ready                                 <nil>     1             

user@localhost:~/test$ singularity --verbose run dataset-worker --exit-on-complete=true --exit-on-error=true

user@localhost:~/test$ singularity --verbose prep status 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                            Config                                                                                                                                                                                                                                                                                  Metadata  
        1   source  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/0  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     
    Jobs
        ID  Type  State     ErrorMessage  ErrorStackTrace  WorkerID  AttachmentID  
        1   scan  complete                                 <nil>     1             
        2   pack  complete                                 <nil>     1             

user@localhost:~/test$ singularity --verbose prep list-pieces 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                            Config                                                                                                                                                                                                                                                                                  Metadata  
        1   source  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/0  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     
    Pieces
        ID  CreatedAt            PieceCID                                                          PieceSize  RootCID                                                      FileSize  StorageID  StoragePath                                                           
        1   2023-08-30 13:20:19  baga6ea4seaqdq5l5747tygg6nutzf5zluqibpx3h5btigvq6kbhpgrnygwencbi  67108864   bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  23080634  2          baga6ea4seaqdq5l5747tygg6nutzf5zluqibpx3h5btigvq6kbhpgrnygwencbi.car  

user@localhost:~/test$ singularity --verbose prep explore 1 source
Path               IsDir  CID                                                          
folder-0           true   bafybeigs5l2cvtc44rzygg6citduv6lcbzb6eteuopnqld7r5u442htrsq  
file-11.txt        false  bafkreigkf4qgt2qmnzdfqiroa34n2y4wlhf3lzt4xo5gonf4gnfdpgn4na  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        4   bafkreigkf4qgt2qmnzdfqiroa34n2y4wlhf3lzt4xo5gonf4gnfdpgn4na        11    2023-08-30 13:19:58  
file-93.txt        false  bafkreig4erhieqyfredtqccknw2xjrupqk2n7ukhnhcuy76yudfmy5beau  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        94  bafkreig4erhieqyfredtqccknw2xjrupqk2n7ukhnhcuy76yudfmy5beau        93    2023-08-30 13:19:58  
file-12.txt        false  bafkreigwqlwuzjgzrhatj3eu6fkr4hwfqdow2wtozxu7hu26nzfhc7554q  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        5   bafkreigwqlwuzjgzrhatj3eu6fkr4hwfqdow2wtozxu7hu26nzfhc7554q        12    2023-08-30 13:19:58  
file-38.txt        false  bafkreihaiebxqz5nmulsogpt2frh5muyxk6du7xgejxbejl5yn2x3piboa  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        33  bafkreihaiebxqz5nmulsogpt2frh5muyxk6du7xgejxbejl5yn2x3piboa        38    2023-08-30 13:19:58  
file-56.txt        false  bafkreiepwyc6vmxpvy6r7teid6s4lxlcdgqxzi3ghzdgil7vm2chyjgcoi  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        53  bafkreiepwyc6vmxpvy6r7teid6s4lxlcdgqxzi3ghzdgil7vm2chyjgcoi        56    2023-08-30 13:19:58  
file-16.txt        false  bafkreihttwwgzov2knpcyid42dgy6fkjoqrdzbepoj7zrm2wjtvfng2bz4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        9   bafkreihttwwgzov2knpcyid42dgy6fkjoqrdzbepoj7zrm2wjtvfng2bz4        16    2023-08-30 13:19:58  
file-65.txt        false  bafkreiemvxj5gxi3azgva65titbvlzs5jrzaxpk3aofjqoxmc5cmm2d5iu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        63  bafkreiemvxj5gxi3azgva65titbvlzs5jrzaxpk3aofjqoxmc5cmm2d5iu        65    2023-08-30 13:19:58  
file-13.txt        false  bafkreih7caye6gxsgydo3ypc3cv43skmekiepjquldmatwf32u7n4h3fta  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        6   bafkreih7caye6gxsgydo3ypc3cv43skmekiepjquldmatwf32u7n4h3fta        13    2023-08-30 13:19:58  
file-31.txt        false  bafkreia5oog45qyy4s5j7ncnoy4dji2xzyipzbrhsh7otfejxbzr32oxzm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        26  bafkreia5oog45qyy4s5j7ncnoy4dji2xzyipzbrhsh7otfejxbzr32oxzm        31    2023-08-30 13:19:58  
file-9.txt         false  bafkreiazzqbpe3puhtcxdpe626ymjuusesr6yiuvferbojppo3icdsbsn4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        90  bafkreiazzqbpe3puhtcxdpe626ymjuusesr6yiuvferbojppo3icdsbsn4        9     2023-08-30 13:19:58  
file-5.txt         false  bafkreibwxpsq5wliihiqiq54wzynmvkpbi2loyn6m7wjysuk2lamitfefq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        46  bafkreibwxpsq5wliihiqiq54wzynmvkpbi2loyn6m7wjysuk2lamitfefq        5     2023-08-30 13:19:58  
file-25.txt        false  bafkreidjxgafjhkqiwljfbithx3xhlur3xk5bzohhxeo5fm3f2zchpc7xm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        19  bafkreidjxgafjhkqiwljfbithx3xhlur3xk5bzohhxeo5fm3f2zchpc7xm        25    2023-08-30 13:19:58  
file-91.txt        false  bafkreiegkz6zcwxtt3fmsfchne3zjpjn4zdo73uqirw7tqz64wafjicptu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        92  bafkreiegkz6zcwxtt3fmsfchne3zjpjn4zdo73uqirw7tqz64wafjicptu        91    2023-08-30 13:19:58  
size-1048577.txt   false  bafybeihyoyn2hzzamyuv67jray2iqrrtp74thkf45mlzon5m5gmgbity5y  
    FileVersions
        ID   CID                                                          Hash  Size     LastModified         
        105  bafybeihyoyn2hzzamyuv67jray2iqrrtp74thkf45mlzon5m5gmgbity5y        1048577  2023-08-30 13:19:58  
file-66.txt        false  bafkreiaj2bnthdbergzeozzyll746ur5eb6ah5e5l3pudqlkih5zqipspi  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        64  bafkreiaj2bnthdbergzeozzyll746ur5eb6ah5e5l3pudqlkih5zqipspi        66    2023-08-30 13:19:58  
file-2.txt         false  bafkreih3ryqpylsmh4siyygdtplff46bgrzjro4xpofu2widxbifkyqgam  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        13  bafkreih3ryqpylsmh4siyygdtplff46bgrzjro4xpofu2widxbifkyqgam        2     2023-08-30 13:19:58  
file-73.txt        false  bafkreibf3fvvuwpmfzjtnquvxvjqnazsttsoc4256n2en3tzr45n2bhaky  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        72  bafkreibf3fvvuwpmfzjtnquvxvjqnazsttsoc4256n2en3tzr45n2bhaky        73    2023-08-30 13:19:58  
file-27.txt        false  bafkreib3nplpjlaol4fnzru7rw4layftfb6v2esiz7edfbgr4emnf3yeuq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        21  bafkreib3nplpjlaol4fnzru7rw4layftfb6v2esiz7edfbgr4emnf3yeuq        27    2023-08-30 13:19:58  
file-7.txt         false  bafkreid5djkbe6zceubpln43l6yiamdbcuvej6jlg7rdyzjhxl3glvg2ti  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        68  bafkreid5djkbe6zceubpln43l6yiamdbcuvej6jlg7rdyzjhxl3glvg2ti        7     2023-08-30 13:19:58  
file-29.txt        false  bafkreiafgvlhzlcacmizdui5a3kf4ldr37cwv7hkd5vwwmoi34cya4kdym  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        23  bafkreiafgvlhzlcacmizdui5a3kf4ldr37cwv7hkd5vwwmoi34cya4kdym        29    2023-08-30 13:19:58  
file-41.txt        false  bafkreifmp2b4at3vmgiz3lra5dn22nbzied2bksneo3dkhgjm5i3zxjmjq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        37  bafkreifmp2b4at3vmgiz3lra5dn22nbzied2bksneo3dkhgjm5i3zxjmjq        41    2023-08-30 13:19:58  
file-47.txt        false  bafkreibo4seuebcca6eopjkf4has5hy4f5ahdhxrt4uizlvaedw55pwbxi  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        43  bafkreibo4seuebcca6eopjkf4has5hy4f5ahdhxrt4uizlvaedw55pwbxi        47    2023-08-30 13:19:58  
file-62.txt        false  bafkreicuanr5cby2aauzokim3d2kfpptvtidkx722oz7ex2svlloxlmtni  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        60  bafkreicuanr5cby2aauzokim3d2kfpptvtidkx722oz7ex2svlloxlmtni        62    2023-08-30 13:19:58  
file-95.txt        false  bafkreiaisz5cc6up4aeojqsg36l6ja7nquevg4wfeq34p7wzu7ghrijj7q  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        96  bafkreiaisz5cc6up4aeojqsg36l6ja7nquevg4wfeq34p7wzu7ghrijj7q        95    2023-08-30 13:19:58  
file-32.txt        false  bafkreigp2ly7vv22df4nucsejcb5w4sriffrhhzr6wqeobgcsh63bylv4y  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        27  bafkreigp2ly7vv22df4nucsejcb5w4sriffrhhzr6wqeobgcsh63bylv4y        32    2023-08-30 13:19:58  
file-50.txt        false  bafkreielmroqxvracnr2nz7lks4nq3bzdmm7wcm2escogthsdx5hsxyfkq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        47  bafkreielmroqxvracnr2nz7lks4nq3bzdmm7wcm2escogthsdx5hsxyfkq        50    2023-08-30 13:19:58  
file-49.txt        false  bafkreics3xjt57knkfgg4rj5cxyrc2p7gbaejqtsnw56wzbgh2hvvlgkpi  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        45  bafkreics3xjt57knkfgg4rj5cxyrc2p7gbaejqtsnw56wzbgh2hvvlgkpi        49    2023-08-30 13:19:58  
file-6.txt         false  bafkreif66v7mp5j2nval5nsau6akmooihpbjvsfjqfxr7rwfy3onspchee  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        57  bafkreif66v7mp5j2nval5nsau6akmooihpbjvsfjqfxr7rwfy3onspchee        6     2023-08-30 13:19:58  
file-88.txt        false  bafkreia4g7ox4lact3mjpkjv7c5ef27vcndvudgfnmexzcadlyy6cee3xm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        88  bafkreia4g7ox4lact3mjpkjv7c5ef27vcndvudgfnmexzcadlyy6cee3xm        88    2023-08-30 13:19:58  
file-99.txt        false  bafkreiamtvbcpduxppytflav6kezu46fskj52bdrpbyildiwj4qvthcife  
    FileVersions
        ID   CID                                                          Hash  Size  LastModified         
        100  bafkreiamtvbcpduxppytflav6kezu46fskj52bdrpbyildiwj4qvthcife        99    2023-08-30 13:19:58  
file-42.txt        false  bafkreiaqaxxda6l54czhtulknjkbuneowvw752whmtakd7ferjpzgkppca  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        38  bafkreiaqaxxda6l54czhtulknjkbuneowvw752whmtakd7ferjpzgkppca        42    2023-08-30 13:19:58  
file-54.txt        false  bafkreifxnwjmayvf3yphkx2cwjge7hu5rzpq52p24chdn2weywjb2regkm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        51  bafkreifxnwjmayvf3yphkx2cwjge7hu5rzpq52p24chdn2weywjb2regkm        54    2023-08-30 13:19:58  
file-68.txt        false  bafkreigui3ely2ymzuytmjwdtyswi6wyp7wtmqxs22osd4rr2zjftwlxxu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        66  bafkreigui3ely2ymzuytmjwdtyswi6wyp7wtmqxs22osd4rr2zjftwlxxu        68    2023-08-30 13:19:58  
file-71.txt        false  bafkreigabftmqgfgojndiuuoi2avpbrb43kj2he45f5yjcfw72leyyy5bi  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        70  bafkreigabftmqgfgojndiuuoi2avpbrb43kj2he45f5yjcfw72leyyy5bi        71    2023-08-30 13:19:58  
file-14.txt        false  bafkreiagkpd6tewxvlkazmtdk44lq4heyfkk7m2ggqgqfr4x2sin2uwv7e  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        7   bafkreiagkpd6tewxvlkazmtdk44lq4heyfkk7m2ggqgqfr4x2sin2uwv7e        14    2023-08-30 13:19:58  
file-51.txt        false  bafkreigrkw6lfib2i5kaofnqkxgtuvkymixfky5fiuagzwv375yqcwhqj4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        48  bafkreigrkw6lfib2i5kaofnqkxgtuvkymixfky5fiuagzwv375yqcwhqj4        51    2023-08-30 13:19:58  
file-52.txt        false  bafkreibzmquuwzsgcn4y2gshp24k2aqrrnenbrltrrbhmezaf4xnci5v6e  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        49  bafkreibzmquuwzsgcn4y2gshp24k2aqrrnenbrltrrbhmezaf4xnci5v6e        52    2023-08-30 13:19:58  
file-85.txt        false  bafkreihlb7ook6qrhg7slbavzsodz7n55l2unw4k4ljl5zriihim3ugm4e  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        85  bafkreihlb7ook6qrhg7slbavzsodz7n55l2unw4k4ljl5zriihim3ugm4e        85    2023-08-30 13:19:58  
file-0.txt         false  bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        1   bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku        0     2023-08-30 13:19:58  
file-39.txt        false  bafkreicw5zwibunurzdtd7eongavfgdgpwd7gmomyfctuwx6yxk72bzpym  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        34  bafkreicw5zwibunurzdtd7eongavfgdgpwd7gmomyfctuwx6yxk72bzpym        39    2023-08-30 13:19:58  
file-8.txt         false  bafkreie4k3gfdm3uyo5breqq2w3njp2xpegtkhewyr6aegioz4pegbrvvm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        79  bafkreie4k3gfdm3uyo5breqq2w3njp2xpegtkhewyr6aegioz4pegbrvvm        8     2023-08-30 13:19:58  
file-30.txt        false  bafkreibcz2a4oyrxjytwn7lfxvq3cqpwzb27t4k6t6is3ok76rxzpi56ve  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        25  bafkreibcz2a4oyrxjytwn7lfxvq3cqpwzb27t4k6t6is3ok76rxzpi56ve        30    2023-08-30 13:19:58  
file-34.txt        false  bafkreidd66577v7jzqprj5swt4ae62oayyl6ckoucoctoaregopsdsfzcm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        29  bafkreidd66577v7jzqprj5swt4ae62oayyl6ckoucoctoaregopsdsfzcm        34    2023-08-30 13:19:58  
file-1.txt         false  bafkreigks6arfsq3xxfpvqrrwonchxcnu6do76auprhhfomao6c273sixm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        2   bafkreigks6arfsq3xxfpvqrrwonchxcnu6do76auprhhfomao6c273sixm        1     2023-08-30 13:19:58  
file-23.txt        false  bafkreid7a6ay4fgqrfcm4fcwfhffimzplt5ncsgfsdx3znodo72ngnxf6q  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        17  bafkreid7a6ay4fgqrfcm4fcwfhffimzplt5ncsgfsdx3znodo72ngnxf6q        23    2023-08-30 13:19:58  
file-33.txt        false  bafkreidkkbumwnydekt2zabimvo6u3ttys5r2dmhzzr63mbtwmc6unzvj4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        28  bafkreidkkbumwnydekt2zabimvo6u3ttys5r2dmhzzr63mbtwmc6unzvj4        33    2023-08-30 13:19:58  
file-64.txt        false  bafkreih2iq7sizld257r6r6deisrcwpdfi2xabn7np6mmggdzec6qsolzu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        62  bafkreih2iq7sizld257r6r6deisrcwpdfi2xabn7np6mmggdzec6qsolzu        64    2023-08-30 13:19:58  
file-70.txt        false  bafkreigwdcqblcdavz5ka54lk2wjrhlnzdytzehnsalgllx2ytwkyybbte  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        69  bafkreigwdcqblcdavz5ka54lk2wjrhlnzdytzehnsalgllx2ytwkyybbte        70    2023-08-30 13:19:58  
file-40.txt        false  bafkreiaiwfhvhewxvtyy25qt7enudorhtvnd4b2yq5yftno2dwqyxe4yc4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        36  bafkreiaiwfhvhewxvtyy25qt7enudorhtvnd4b2yq5yftno2dwqyxe4yc4        40    2023-08-30 13:19:58  
file-45.txt        false  bafkreih6ja23afww7r676flzqrok2bay354in2gqjdtvy72zqiuidndkii  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        41  bafkreih6ja23afww7r676flzqrok2bay354in2gqjdtvy72zqiuidndkii        45    2023-08-30 13:19:58  
file-24.txt        false  bafkreietwdfl7bti4dctjrjkk2evosm6ckrij5m5s7ojwjzf56bwqbehlm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        18  bafkreietwdfl7bti4dctjrjkk2evosm6ckrij5m5s7ojwjzf56bwqbehlm        24    2023-08-30 13:19:58  
file-98.txt        false  bafkreigienxacfz3mhu2rzmz4u7ciead4zsxhfhd6xwqryhf6ad3abd7zq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        99  bafkreigienxacfz3mhu2rzmz4u7ciead4zsxhfhd6xwqryhf6ad3abd7zq        98    2023-08-30 13:19:58  
file-15.txt        false  bafkreicby53ayuhp32m36v2o3d77y6tn2naf2vdnhwustmquzckfvt4ks4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        8   bafkreicby53ayuhp32m36v2o3d77y6tn2naf2vdnhwustmquzckfvt4ks4        15    2023-08-30 13:19:58  
file-48.txt        false  bafkreihwx3x45y4cf4hvykppopxmunatfnvjeq6iuxp2fuogxadoins3yy  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        44  bafkreihwx3x45y4cf4hvykppopxmunatfnvjeq6iuxp2fuogxadoins3yy        48    2023-08-30 13:19:58  
file-89.txt        false  bafkreihqxuthdv4dyhfxcpldbyrs7xirgitouymwlcyeopumh34sjvw3dq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        89  bafkreihqxuthdv4dyhfxcpldbyrs7xirgitouymwlcyeopumh34sjvw3dq        89    2023-08-30 13:19:58  
file-46.txt        false  bafkreicp4z7n3ckxtfj5fwul7qqyf2poqwom4jb6r4aytd4zfq27z6eira  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        42  bafkreicp4z7n3ckxtfj5fwul7qqyf2poqwom4jb6r4aytd4zfq27z6eira        46    2023-08-30 13:19:58  
file-83.txt        false  bafkreidjp7tbrggqic2ydgugujlotzeshohex7pq3r4abdzrp3p2mg42jm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        83  bafkreidjp7tbrggqic2ydgugujlotzeshohex7pq3r4abdzrp3p2mg42jm        83    2023-08-30 13:19:58  
file-94.txt        false  bafkreiffjk5z5gnhfgzhgpbkaq7gtukv4ux3sfcolhwswf4wmfortee4vy  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        95  bafkreiffjk5z5gnhfgzhgpbkaq7gtukv4ux3sfcolhwswf4wmfortee4vy        94    2023-08-30 13:19:58  
file-20.txt        false  bafkreig5mxxkamu5zoklc4mhv6o76kgddioxqathg6qwv52zpgq7urqy4u  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        14  bafkreig5mxxkamu5zoklc4mhv6o76kgddioxqathg6qwv52zpgq7urqy4u        20    2023-08-30 13:19:58  
file-21.txt        false  bafkreibf6yvfupkbj3doecih357tm7zlojrfvlpfklnwjqdzgp3ait6eti  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        15  bafkreibf6yvfupkbj3doecih357tm7zlojrfvlpfklnwjqdzgp3ait6eti        21    2023-08-30 13:19:58  
file-84.txt        false  bafkreigvf3562awiknyfeumez7wb3wfyagqadkfsurhbitlypdp2x4jg2i  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        84  bafkreigvf3562awiknyfeumez7wb3wfyagqadkfsurhbitlypdp2x4jg2i        84    2023-08-30 13:19:58  
file-55.txt        false  bafkreigxjoqhlzbftrwia7cbahtg2kaqs3hz74kluajgbxxhigy33lxtey  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        52  bafkreigxjoqhlzbftrwia7cbahtg2kaqs3hz74kluajgbxxhigy33lxtey        55    2023-08-30 13:19:58  
size-1.txt         false  bafkreigks6arfsq3xxfpvqrrwonchxcnu6do76auprhhfomao6c273sixm  
    FileVersions
        ID   CID                                                          Hash  Size  LastModified         
        103  bafkreigks6arfsq3xxfpvqrrwonchxcnu6do76auprhhfomao6c273sixm        1     2023-08-30 13:19:58  
file-61.txt        false  bafkreifbc5mqqymkgpmhqpnadbwhbcehrouo3ok25yx7niywlwm6qdqwuu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        59  bafkreifbc5mqqymkgpmhqpnadbwhbcehrouo3ok25yx7niywlwm6qdqwuu        61    2023-08-30 13:19:58  
file-72.txt        false  bafkreieqengbclxjomtauexwcsf6vjy6qsbvc37dal6ndczkkth2qpskm4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        71  bafkreieqengbclxjomtauexwcsf6vjy6qsbvc37dal6ndczkkth2qpskm4        72    2023-08-30 13:19:58  
size-20971520.txt  false  bafybeift4xxg7o3i6x2jcaj4hmh3xv25magshh4ok7fgr5urqilylygoyi  
    FileVersions
        ID   CID                                                          Hash  Size      LastModified         
        106  bafybeift4xxg7o3i6x2jcaj4hmh3xv25magshh4ok7fgr5urqilylygoyi        20971520  2023-08-30 13:19:58  
size-0.txt         false  bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  
    FileVersions
        ID   CID                                                          Hash  Size  LastModified         
        102  bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku        0     2023-08-30 13:19:58  
size-1048576.txt   false  bafkreialma7cnmrp643lmxzcnnwqpxuu3kaywazbotsbvparlpixxkuolu  
    FileVersions
        ID   CID                                                          Hash  Size     LastModified         
        104  bafkreialma7cnmrp643lmxzcnnwqpxuu3kaywazbotsbvparlpixxkuolu        1048576  2023-08-30 13:19:58  
file-43.txt        false  bafkreicguimzpawiqj7qvrlpka56tu4673ux6qfhg24szr6xyx4clt6yke  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        39  bafkreicguimzpawiqj7qvrlpka56tu4673ux6qfhg24szr6xyx4clt6yke        43    2023-08-30 13:19:58  
file-69.txt        false  bafkreiekxhmajr3rpm6ahapnlvm3qfoj7efk5olizaoraavfuiu3p4qbea  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        67  bafkreiekxhmajr3rpm6ahapnlvm3qfoj7efk5olizaoraavfuiu3p4qbea        69    2023-08-30 13:19:58  
file-87.txt        false  bafkreihq6vxp3d3d4udhwnc3mfqspwlbzxxfocnbsk4t7nlcrufee3srhe  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        87  bafkreihq6vxp3d3d4udhwnc3mfqspwlbzxxfocnbsk4t7nlcrufee3srhe        87    2023-08-30 13:19:58  
file-57.txt        false  bafkreihwk5yax3uyx5qiqbabu3vb43rs73ggdt2oelnlkyhvrljq4aauqi  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        54  bafkreihwk5yax3uyx5qiqbabu3vb43rs73ggdt2oelnlkyhvrljq4aauqi        57    2023-08-30 13:19:58  
file-78.txt        false  bafkreidnzbfxhjdftxgkr2qo5qesupssuncym4py2cek4xjeivxdvof4bq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        77  bafkreidnzbfxhjdftxgkr2qo5qesupssuncym4py2cek4xjeivxdvof4bq        78    2023-08-30 13:19:58  
file-80.txt        false  bafkreic22tkm4m77rcfrtkqvhmprgviuarnpuebu7gcrejel3rsfffwqae  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        80  bafkreic22tkm4m77rcfrtkqvhmprgviuarnpuebu7gcrejel3rsfffwqae        80    2023-08-30 13:19:58  
file-96.txt        false  bafkreifryz46dmli76nwxqm5msmjpf76n4mjprlngrcffjhs6x6prp7n5i  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        97  bafkreifryz46dmli76nwxqm5msmjpf76n4mjprlngrcffjhs6x6prp7n5i        96    2023-08-30 13:19:58  
file-53.txt        false  bafkreihlrdpbsioijnjvgcjpvyinyrym2wmg3gazxk3oshd3zrxprc3hui  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        50  bafkreihlrdpbsioijnjvgcjpvyinyrym2wmg3gazxk3oshd3zrxprc3hui        53    2023-08-30 13:19:58  
file-60.txt        false  bafkreiffye2uydglou5dhotjpc7skd6y2jjqkzeb57tu5ftbtafoc5thke  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        58  bafkreiffye2uydglou5dhotjpc7skd6y2jjqkzeb57tu5ftbtafoc5thke        60    2023-08-30 13:19:58  
file-79.txt        false  bafkreicqhbp7rbeh3vcje7275ksrikgawnvv4mkufpykdpe6rmgkerm4cu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        78  bafkreicqhbp7rbeh3vcje7275ksrikgawnvv4mkufpykdpe6rmgkerm4cu        79    2023-08-30 13:19:58  
file-10.txt        false  bafkreidshgjwdwtko5kp5smg3ss3ps5pdsaqukg62sv26vvscbwqns3ywa  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        3   bafkreidshgjwdwtko5kp5smg3ss3ps5pdsaqukg62sv26vvscbwqns3ywa        10    2023-08-30 13:19:58  
file-92.txt        false  bafkreibyorwurqjxwyjgww32p6xusepr2iwsrcwpmz2c7vrx6dxahdtzri  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        93  bafkreibyorwurqjxwyjgww32p6xusepr2iwsrcwpmz2c7vrx6dxahdtzri        92    2023-08-30 13:19:58  
file-17.txt        false  bafkreierrkkuvrg7wvfmhhygrwmgqit7ngvttpbwfywjwaedx5vbbhlk24  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        10  bafkreierrkkuvrg7wvfmhhygrwmgqit7ngvttpbwfywjwaedx5vbbhlk24        17    2023-08-30 13:19:58  
file-81.txt        false  bafkreifwteo5nk4qjgw5oxhprvntog4oj6lenclxjtuxc5gjho7rbjhs4e  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        81  bafkreifwteo5nk4qjgw5oxhprvntog4oj6lenclxjtuxc5gjho7rbjhs4e        81    2023-08-30 13:19:58  
file-44.txt        false  bafkreig424bvd2orat7bvozjyomahjhczrx7etnitbd22bs4qitzoq5rve  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        40  bafkreig424bvd2orat7bvozjyomahjhczrx7etnitbd22bs4qitzoq5rve        44    2023-08-30 13:19:58  
file-67.txt        false  bafkreiayhem2n45yzk6kerfd66c3qoiiaxgfv3njtodgn7cv7kmm3zmbqq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        65  bafkreiayhem2n45yzk6kerfd66c3qoiiaxgfv3njtodgn7cv7kmm3zmbqq        67    2023-08-30 13:19:58  
file-3.txt         false  bafkreif2pall7dybz7vecqka3zo24irdwabwdi4wc55jznaq75q7eaavvu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        24  bafkreif2pall7dybz7vecqka3zo24irdwabwdi4wc55jznaq75q7eaavvu        3     2023-08-30 13:19:58  
file-82.txt        false  bafkreidlnljicelzi7v6pq5agn66htcdth3b2posygsa7cxhnrttteau6a  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        82  bafkreidlnljicelzi7v6pq5agn66htcdth3b2posygsa7cxhnrttteau6a        82    2023-08-30 13:19:58  
file-35.txt        false  bafkreiaokjtt4tqsqo5fyyqoh3cuhcv6k5y6tdvz6a6ngrxhdozsdn44aq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        30  bafkreiaokjtt4tqsqo5fyyqoh3cuhcv6k5y6tdvz6a6ngrxhdozsdn44aq        35    2023-08-30 13:19:58  
file-4.txt         false  bafkreiei2qtg7vhggogrhocf7tzisv45ecois6bdxeqx3i7bmgjw6ayvre  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        35  bafkreiei2qtg7vhggogrhocf7tzisv45ecois6bdxeqx3i7bmgjw6ayvre        4     2023-08-30 13:19:58  
file-59.txt        false  bafkreida2c5c2niqyjb7dnqz3lbyfvvh33sq5mbpq4pftqign5ziy66yai  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        56  bafkreida2c5c2niqyjb7dnqz3lbyfvvh33sq5mbpq4pftqign5ziy66yai        59    2023-08-30 13:19:58  
file-63.txt        false  bafkreifgmi2tbbnguihe7sn4otx25xphb7ovivtmvuf6gxftdc6ewrbfv4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        61  bafkreifgmi2tbbnguihe7sn4otx25xphb7ovivtmvuf6gxftdc6ewrbfv4        63    2023-08-30 13:19:58  
file-19.txt        false  bafkreihckd4im4ulo65gg4rmpzs7y47camibvbbidmzdgl6wptdkdlr6ei  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        12  bafkreihckd4im4ulo65gg4rmpzs7y47camibvbbidmzdgl6wptdkdlr6ei        19    2023-08-30 13:19:58  
file-58.txt        false  bafkreif7dofpqeykqve2bmtdgjty4uzpi34ytuu4mhf5hggd7wnwfzsery  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        55  bafkreif7dofpqeykqve2bmtdgjty4uzpi34ytuu4mhf5hggd7wnwfzsery        58    2023-08-30 13:19:58  
file-22.txt        false  bafkreihwt6nxbuojuvccewgko34lbj5el7fu4modmfa3mnl6ywitfcygeq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        16  bafkreihwt6nxbuojuvccewgko34lbj5el7fu4modmfa3mnl6ywitfcygeq        22    2023-08-30 13:19:58  
file-86.txt        false  bafkreihu3glvzcs4zs7prxu2r2pix6fkt7t5hnwlnkgys42i63hxjhnj6u  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        86  bafkreihu3glvzcs4zs7prxu2r2pix6fkt7t5hnwlnkgys42i63hxjhnj6u        86    2023-08-30 13:19:58  
file-76.txt        false  bafkreihsjsk7fd2ilcfshaeaj7cibmgtlklx37smf7bscugkbvipgefyeq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        75  bafkreihsjsk7fd2ilcfshaeaj7cibmgtlklx37smf7bscugkbvipgefyeq        76    2023-08-30 13:19:58  
file-74.txt        false  bafkreifzb4djqrc3nn2xgcjvj5gwowgpnqqk3j52smbuasyp3jlxkaov5i  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        73  bafkreifzb4djqrc3nn2xgcjvj5gwowgpnqqk3j52smbuasyp3jlxkaov5i        74    2023-08-30 13:19:58  
file-90.txt        false  bafkreidgerrlqohzmgmulouc5f4iuvddfnsyabb2rxlit37ewoeqyjltbu  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        91  bafkreidgerrlqohzmgmulouc5f4iuvddfnsyabb2rxlit37ewoeqyjltbu        90    2023-08-30 13:19:58  
file-97.txt        false  bafkreif2gpoc53aen6qoq2c7vjzidael5lflt2uyhfvenweiqtlvaq7h3u  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        98  bafkreif2gpoc53aen6qoq2c7vjzidael5lflt2uyhfvenweiqtlvaq7h3u        97    2023-08-30 13:19:58  
file-37.txt        false  bafkreibt4q5ej4kspucau7uwfwuzw4cgy5vvecfx4wty6vrj6styw5t2tq  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        32  bafkreibt4q5ej4kspucau7uwfwuzw4cgy5vvecfx4wty6vrj6styw5t2tq        37    2023-08-30 13:19:58  
file-75.txt        false  bafkreigtpo45vxr4lim6exbuwsa3tol7xst5fabtdabujfo5qlw34lepfm  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        74  bafkreigtpo45vxr4lim6exbuwsa3tol7xst5fabtdabujfo5qlw34lepfm        75    2023-08-30 13:19:58  
file-77.txt        false  bafkreiazyu5nzgypmhr3j7hklf5ovur2k5gqoliw7rddxd5nvlzgm2q2qe  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        76  bafkreiazyu5nzgypmhr3j7hklf5ovur2k5gqoliw7rddxd5nvlzgm2q2qe        77    2023-08-30 13:19:58  
file-18.txt        false  bafkreibncirgskx26vxjlkflacdz5ubduag3hytpufbdnzkcoscxskc67i  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        11  bafkreibncirgskx26vxjlkflacdz5ubduag3hytpufbdnzkcoscxskc67i        18    2023-08-30 13:19:58  
file-26.txt        false  bafkreidrysan7e6wvyxr56wrir6gnskslyyweggpkh6i3hwyglznv4mlom  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        20  bafkreidrysan7e6wvyxr56wrir6gnskslyyweggpkh6i3hwyglznv4mlom        26    2023-08-30 13:19:58  
file-36.txt        false  bafkreih34xa4sh7pv6kpvslp6ysci2wptk2hjxpou2c4a4gpo6dioyjld4  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        31  bafkreih34xa4sh7pv6kpvslp6ysci2wptk2hjxpou2c4a4gpo6dioyjld4        36    2023-08-30 13:19:58  
file-28.txt        false  bafkreiafmtwds3ljtclmp72dhgksdeiqucaimntrcsl4yqiwvsv3hcvoyy  
    FileVersions
        ID  CID                                                          Hash  Size  LastModified         
        22  bafkreiafmtwds3ljtclmp72dhgksdeiqucaimntrcsl4yqiwvsv3hcvoyy        28    2023-08-30 13:19:58  

user@localhost:~/test$ singularity --verbose prep explore 1 source folder-0
Path      IsDir  CID                                                          
folder-1  true   bafybeifzr26zygwm5nx5idttnnpsw6jseoibbzl3lq3v7lgwlmhxt4x6iq  

user@localhost:~/test$ singularity --verbose prep start-daggen 1 source
ID  Type    State  ErrorMessage  ErrorStackTrace  WorkerID  AttachmentID  
3   daggen  ready                                 <nil>     1             

user@localhost:~/test$ singularity --verbose run dataset-worker --exit-on-complete=true --exit-on-error=true

user@localhost:~/test$ singularity --verbose prep status 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                            Config                                                                                                                                                                                                                                                                                  Metadata  
        1   source  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/0  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     
    Jobs
        ID  Type    State     ErrorMessage  ErrorStackTrace  WorkerID  AttachmentID  
        1   scan    complete                                 <nil>     1             
        2   pack    complete                                 <nil>     1             
        3   daggen  complete                                 <nil>     1             

user@localhost:~/test$ singularity --verbose prep list-pieces 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    CreatedAt            UpdatedAt            Type   Path                                            Config                                                                                                                                                                                                                                                                                  Metadata  
        1   source  2023-08-30 13:20:19  2023-08-30 13:20:19  local  /tempDir/0  map[case_insensitive:false case_sensitive:false copy_links:false encoding:Slash,Dot links:false no_check_updated:false no_preallocate:false no_set_modtime:false no_sparse:false nounc:false one_file_system:false skip_links:false unicode_normalization:false zero_size_links:false]  map[]     
    Pieces
        ID  CreatedAt            PieceCID                                                          PieceSize  RootCID                                                      FileSize  StorageID  StoragePath                                                           
        1   2023-08-30 13:20:19  baga6ea4seaqdq5l5747tygg6nutzf5zluqibpx3h5btigvq6kbhpgrnygwencbi  67108864   bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  23080634  2          baga6ea4seaqdq5l5747tygg6nutzf5zluqibpx3h5btigvq6kbhpgrnygwencbi.car  
        2   2023-08-30 13:20:20  baga6ea4seaqjk32xkq3ddogc6spvh2tdfkv7nbaru4dxcmqlyj23w2rkrdxeegq  67108864   bafybeigq5nnkq736nujpmqchv53ro4xtxvvcgjpsmbtc7fsaofplnzixte  8651      2          baga6ea4seaqjk32xkq3ddogc6spvh2tdfkv7nbaru4dxcmqlyj23w2rkrdxeegq.car  

