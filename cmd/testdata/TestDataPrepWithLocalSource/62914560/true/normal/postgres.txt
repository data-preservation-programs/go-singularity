user@localhost:~/test$ singularity storage create local source '/tempDir/0'
ID  Name    Type   Path                                            
1   source  local  /tempDir/0  

user@localhost:~/test$ singularity prep create --max-size 62914560 --source source
ID  DeleteAfterExport  MaxSize   PieceSize  
1   false              62914560  67108864   
    Source Storages:
        ID  Name    Type   Path                                            
        1   source  local  /tempDir/0  

user@localhost:~/test$ singularity prep list
ID  DeleteAfterExport  MaxSize   PieceSize  
1   false              62914560  67108864   
    Source Storages:
        ID  Name    Type   Path                                            
        1   source  local  /tempDir/0  

user@localhost:~/test$ singularity prep start-scan 1 source
ID  Type  State  ErrorMessage  WorkerID  
1   scan  ready                <nil>     

user@localhost:~/test$ singularity run dataset-worker --exit-on-complete=true --exit-on-error=true

user@localhost:~/test$ singularity prep status 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    Type   Path                                            
        1   source  local  /tempDir/0  
    Jobs
        ID  Type  State     ErrorMessage  WorkerID  
        1   scan  complete                <nil>     
        2   pack  complete                <nil>     

user@localhost:~/test$ singularity prep list-pieces 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    Type   Path                                            
        1   source  local  /tempDir/0  
    Pieces
        PieceCID                                                          PieceSize  RootCID                                                      FileSize  StoragePath  
        baga6ea4seaqdq5l5747tygg6nutzf5zluqibpx3h5btigvq6kbhpgrnygwencbi  67108864   bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  23080634               

user@localhost:~/test$ singularity prep explore 1 source
Path               IsDir  CID                                                          
folder-0           true   bafybeigs5l2cvtc44rzygg6citduv6lcbzb6eteuopnqld7r5u442htrsq  
file-39.txt        false  bafkreicw5zwibunurzdtd7eongavfgdgpwd7gmomyfctuwx6yxk72bzpym  
file-82.txt        false  bafkreidlnljicelzi7v6pq5agn66htcdth3b2posygsa7cxhnrttteau6a  
file-21.txt        false  bafkreibf6yvfupkbj3doecih357tm7zlojrfvlpfklnwjqdzgp3ait6eti  
file-48.txt        false  bafkreihwx3x45y4cf4hvykppopxmunatfnvjeq6iuxp2fuogxadoins3yy  
file-56.txt        false  bafkreiepwyc6vmxpvy6r7teid6s4lxlcdgqxzi3ghzdgil7vm2chyjgcoi  
file-94.txt        false  bafkreiffjk5z5gnhfgzhgpbkaq7gtukv4ux3sfcolhwswf4wmfortee4vy  
file-7.txt         false  bafkreid5djkbe6zceubpln43l6yiamdbcuvej6jlg7rdyzjhxl3glvg2ti  
file-85.txt        false  bafkreihlb7ook6qrhg7slbavzsodz7n55l2unw4k4ljl5zriihim3ugm4e  
file-95.txt        false  bafkreiaisz5cc6up4aeojqsg36l6ja7nquevg4wfeq34p7wzu7ghrijj7q  
size-1048577.txt   false  bafybeihyoyn2hzzamyuv67jray2iqrrtp74thkf45mlzon5m5gmgbity5y  
file-19.txt        false  bafkreihckd4im4ulo65gg4rmpzs7y47camibvbbidmzdgl6wptdkdlr6ei  
file-4.txt         false  bafkreiei2qtg7vhggogrhocf7tzisv45ecois6bdxeqx3i7bmgjw6ayvre  
file-58.txt        false  bafkreif7dofpqeykqve2bmtdgjty4uzpi34ytuu4mhf5hggd7wnwfzsery  
file-8.txt         false  bafkreie4k3gfdm3uyo5breqq2w3njp2xpegtkhewyr6aegioz4pegbrvvm  
file-76.txt        false  bafkreihsjsk7fd2ilcfshaeaj7cibmgtlklx37smf7bscugkbvipgefyeq  
file-65.txt        false  bafkreiemvxj5gxi3azgva65titbvlzs5jrzaxpk3aofjqoxmc5cmm2d5iu  
file-92.txt        false  bafkreibyorwurqjxwyjgww32p6xusepr2iwsrcwpmz2c7vrx6dxahdtzri  
file-60.txt        false  bafkreiffye2uydglou5dhotjpc7skd6y2jjqkzeb57tu5ftbtafoc5thke  
file-42.txt        false  bafkreiaqaxxda6l54czhtulknjkbuneowvw752whmtakd7ferjpzgkppca  
file-72.txt        false  bafkreieqengbclxjomtauexwcsf6vjy6qsbvc37dal6ndczkkth2qpskm4  
file-12.txt        false  bafkreigwqlwuzjgzrhatj3eu6fkr4hwfqdow2wtozxu7hu26nzfhc7554q  
file-22.txt        false  bafkreihwt6nxbuojuvccewgko34lbj5el7fu4modmfa3mnl6ywitfcygeq  
file-59.txt        false  bafkreida2c5c2niqyjb7dnqz3lbyfvvh33sq5mbpq4pftqign5ziy66yai  
file-14.txt        false  bafkreiagkpd6tewxvlkazmtdk44lq4heyfkk7m2ggqgqfr4x2sin2uwv7e  
file-27.txt        false  bafkreib3nplpjlaol4fnzru7rw4layftfb6v2esiz7edfbgr4emnf3yeuq  
file-84.txt        false  bafkreigvf3562awiknyfeumez7wb3wfyagqadkfsurhbitlypdp2x4jg2i  
file-89.txt        false  bafkreihqxuthdv4dyhfxcpldbyrs7xirgitouymwlcyeopumh34sjvw3dq  
file-77.txt        false  bafkreiazyu5nzgypmhr3j7hklf5ovur2k5gqoliw7rddxd5nvlzgm2q2qe  
file-33.txt        false  bafkreidkkbumwnydekt2zabimvo6u3ttys5r2dmhzzr63mbtwmc6unzvj4  
file-90.txt        false  bafkreidgerrlqohzmgmulouc5f4iuvddfnsyabb2rxlit37ewoeqyjltbu  
file-3.txt         false  bafkreif2pall7dybz7vecqka3zo24irdwabwdi4wc55jznaq75q7eaavvu  
file-40.txt        false  bafkreiaiwfhvhewxvtyy25qt7enudorhtvnd4b2yq5yftno2dwqyxe4yc4  
file-10.txt        false  bafkreidshgjwdwtko5kp5smg3ss3ps5pdsaqukg62sv26vvscbwqns3ywa  
file-80.txt        false  bafkreic22tkm4m77rcfrtkqvhmprgviuarnpuebu7gcrejel3rsfffwqae  
file-87.txt        false  bafkreihq6vxp3d3d4udhwnc3mfqspwlbzxxfocnbsk4t7nlcrufee3srhe  
file-9.txt         false  bafkreiazzqbpe3puhtcxdpe626ymjuusesr6yiuvferbojppo3icdsbsn4  
file-2.txt         false  bafkreih3ryqpylsmh4siyygdtplff46bgrzjro4xpofu2widxbifkyqgam  
file-73.txt        false  bafkreibf3fvvuwpmfzjtnquvxvjqnazsttsoc4256n2en3tzr45n2bhaky  
file-54.txt        false  bafkreifxnwjmayvf3yphkx2cwjge7hu5rzpq52p24chdn2weywjb2regkm  
file-15.txt        false  bafkreicby53ayuhp32m36v2o3d77y6tn2naf2vdnhwustmquzckfvt4ks4  
file-5.txt         false  bafkreibwxpsq5wliihiqiq54wzynmvkpbi2loyn6m7wjysuk2lamitfefq  
file-99.txt        false  bafkreiamtvbcpduxppytflav6kezu46fskj52bdrpbyildiwj4qvthcife  
file-57.txt        false  bafkreihwk5yax3uyx5qiqbabu3vb43rs73ggdt2oelnlkyhvrljq4aauqi  
file-64.txt        false  bafkreih2iq7sizld257r6r6deisrcwpdfi2xabn7np6mmggdzec6qsolzu  
file-52.txt        false  bafkreibzmquuwzsgcn4y2gshp24k2aqrrnenbrltrrbhmezaf4xnci5v6e  
file-43.txt        false  bafkreicguimzpawiqj7qvrlpka56tu4673ux6qfhg24szr6xyx4clt6yke  
file-32.txt        false  bafkreigp2ly7vv22df4nucsejcb5w4sriffrhhzr6wqeobgcsh63bylv4y  
file-45.txt        false  bafkreih6ja23afww7r676flzqrok2bay354in2gqjdtvy72zqiuidndkii  
file-63.txt        false  bafkreifgmi2tbbnguihe7sn4otx25xphb7ovivtmvuf6gxftdc6ewrbfv4  
file-66.txt        false  bafkreiaj2bnthdbergzeozzyll746ur5eb6ah5e5l3pudqlkih5zqipspi  
file-96.txt        false  bafkreifryz46dmli76nwxqm5msmjpf76n4mjprlngrcffjhs6x6prp7n5i  
size-1.txt         false  bafkreigks6arfsq3xxfpvqrrwonchxcnu6do76auprhhfomao6c273sixm  
file-1.txt         false  bafkreigks6arfsq3xxfpvqrrwonchxcnu6do76auprhhfomao6c273sixm  
file-28.txt        false  bafkreiafmtwds3ljtclmp72dhgksdeiqucaimntrcsl4yqiwvsv3hcvoyy  
file-51.txt        false  bafkreigrkw6lfib2i5kaofnqkxgtuvkymixfky5fiuagzwv375yqcwhqj4  
file-61.txt        false  bafkreifbc5mqqymkgpmhqpnadbwhbcehrouo3ok25yx7niywlwm6qdqwuu  
file-18.txt        false  bafkreibncirgskx26vxjlkflacdz5ubduag3hytpufbdnzkcoscxskc67i  
file-83.txt        false  bafkreidjp7tbrggqic2ydgugujlotzeshohex7pq3r4abdzrp3p2mg42jm  
file-17.txt        false  bafkreierrkkuvrg7wvfmhhygrwmgqit7ngvttpbwfywjwaedx5vbbhlk24  
file-35.txt        false  bafkreiaokjtt4tqsqo5fyyqoh3cuhcv6k5y6tdvz6a6ngrxhdozsdn44aq  
file-69.txt        false  bafkreiekxhmajr3rpm6ahapnlvm3qfoj7efk5olizaoraavfuiu3p4qbea  
file-86.txt        false  bafkreihu3glvzcs4zs7prxu2r2pix6fkt7t5hnwlnkgys42i63hxjhnj6u  
file-44.txt        false  bafkreig424bvd2orat7bvozjyomahjhczrx7etnitbd22bs4qitzoq5rve  
file-47.txt        false  bafkreibo4seuebcca6eopjkf4has5hy4f5ahdhxrt4uizlvaedw55pwbxi  
file-6.txt         false  bafkreif66v7mp5j2nval5nsau6akmooihpbjvsfjqfxr7rwfy3onspchee  
file-34.txt        false  bafkreidd66577v7jzqprj5swt4ae62oayyl6ckoucoctoaregopsdsfzcm  
file-70.txt        false  bafkreigwdcqblcdavz5ka54lk2wjrhlnzdytzehnsalgllx2ytwkyybbte  
file-71.txt        false  bafkreigabftmqgfgojndiuuoi2avpbrb43kj2he45f5yjcfw72leyyy5bi  
file-79.txt        false  bafkreicqhbp7rbeh3vcje7275ksrikgawnvv4mkufpykdpe6rmgkerm4cu  
file-97.txt        false  bafkreif2gpoc53aen6qoq2c7vjzidael5lflt2uyhfvenweiqtlvaq7h3u  
file-55.txt        false  bafkreigxjoqhlzbftrwia7cbahtg2kaqs3hz74kluajgbxxhigy33lxtey  
file-74.txt        false  bafkreifzb4djqrc3nn2xgcjvj5gwowgpnqqk3j52smbuasyp3jlxkaov5i  
file-88.txt        false  bafkreia4g7ox4lact3mjpkjv7c5ef27vcndvudgfnmexzcadlyy6cee3xm  
file-50.txt        false  bafkreielmroqxvracnr2nz7lks4nq3bzdmm7wcm2escogthsdx5hsxyfkq  
file-0.txt         false  bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  
file-81.txt        false  bafkreifwteo5nk4qjgw5oxhprvntog4oj6lenclxjtuxc5gjho7rbjhs4e  
file-16.txt        false  bafkreihttwwgzov2knpcyid42dgy6fkjoqrdzbepoj7zrm2wjtvfng2bz4  
file-29.txt        false  bafkreiafgvlhzlcacmizdui5a3kf4ldr37cwv7hkd5vwwmoi34cya4kdym  
file-62.txt        false  bafkreicuanr5cby2aauzokim3d2kfpptvtidkx722oz7ex2svlloxlmtni  
size-20971520.txt  false  bafybeift4xxg7o3i6x2jcaj4hmh3xv25magshh4ok7fgr5urqilylygoyi  
file-75.txt        false  bafkreigtpo45vxr4lim6exbuwsa3tol7xst5fabtdabujfo5qlw34lepfm  
file-91.txt        false  bafkreiegkz6zcwxtt3fmsfchne3zjpjn4zdo73uqirw7tqz64wafjicptu  
file-20.txt        false  bafkreig5mxxkamu5zoklc4mhv6o76kgddioxqathg6qwv52zpgq7urqy4u  
file-36.txt        false  bafkreih34xa4sh7pv6kpvslp6ysci2wptk2hjxpou2c4a4gpo6dioyjld4  
file-41.txt        false  bafkreifmp2b4at3vmgiz3lra5dn22nbzied2bksneo3dkhgjm5i3zxjmjq  
file-68.txt        false  bafkreigui3ely2ymzuytmjwdtyswi6wyp7wtmqxs22osd4rr2zjftwlxxu  
file-53.txt        false  bafkreihlrdpbsioijnjvgcjpvyinyrym2wmg3gazxk3oshd3zrxprc3hui  
file-67.txt        false  bafkreiayhem2n45yzk6kerfd66c3qoiiaxgfv3njtodgn7cv7kmm3zmbqq  
size-0.txt         false  bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  
size-1048576.txt   false  bafkreialma7cnmrp643lmxzcnnwqpxuu3kaywazbotsbvparlpixxkuolu  
file-30.txt        false  bafkreibcz2a4oyrxjytwn7lfxvq3cqpwzb27t4k6t6is3ok76rxzpi56ve  
file-26.txt        false  bafkreidrysan7e6wvyxr56wrir6gnskslyyweggpkh6i3hwyglznv4mlom  
file-37.txt        false  bafkreibt4q5ej4kspucau7uwfwuzw4cgy5vvecfx4wty6vrj6styw5t2tq  
file-25.txt        false  bafkreidjxgafjhkqiwljfbithx3xhlur3xk5bzohhxeo5fm3f2zchpc7xm  
file-24.txt        false  bafkreietwdfl7bti4dctjrjkk2evosm6ckrij5m5s7ojwjzf56bwqbehlm  
file-49.txt        false  bafkreics3xjt57knkfgg4rj5cxyrc2p7gbaejqtsnw56wzbgh2hvvlgkpi  
file-78.txt        false  bafkreidnzbfxhjdftxgkr2qo5qesupssuncym4py2cek4xjeivxdvof4bq  
file-38.txt        false  bafkreihaiebxqz5nmulsogpt2frh5muyxk6du7xgejxbejl5yn2x3piboa  
file-13.txt        false  bafkreih7caye6gxsgydo3ypc3cv43skmekiepjquldmatwf32u7n4h3fta  
file-23.txt        false  bafkreid7a6ay4fgqrfcm4fcwfhffimzplt5ncsgfsdx3znodo72ngnxf6q  
file-31.txt        false  bafkreia5oog45qyy4s5j7ncnoy4dji2xzyipzbrhsh7otfejxbzr32oxzm  
file-11.txt        false  bafkreigkf4qgt2qmnzdfqiroa34n2y4wlhf3lzt4xo5gonf4gnfdpgn4na  
file-46.txt        false  bafkreicp4z7n3ckxtfj5fwul7qqyf2poqwom4jb6r4aytd4zfq27z6eira  
file-93.txt        false  bafkreig4erhieqyfredtqccknw2xjrupqk2n7ukhnhcuy76yudfmy5beau  
file-98.txt        false  bafkreigienxacfz3mhu2rzmz4u7ciead4zsxhfhd6xwqryhf6ad3abd7zq  

user@localhost:~/test$ singularity prep explore 1 source folder-0
Path      IsDir  CID                                                          
folder-1  true   bafybeifzr26zygwm5nx5idttnnpsw6jseoibbzl3lq3v7lgwlmhxt4x6iq  

user@localhost:~/test$ singularity prep start-daggen 1 source
ID  Type    State  ErrorMessage  WorkerID  
3   daggen  ready                <nil>     

user@localhost:~/test$ singularity run dataset-worker --exit-on-complete=true --exit-on-error=true

user@localhost:~/test$ singularity prep status 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    Type   Path                                            
        1   source  local  /tempDir/0  
    Jobs
        ID  Type    State     ErrorMessage  WorkerID  
        1   scan    complete                <nil>     
        2   pack    complete                <nil>     
        3   daggen  complete                <nil>     

user@localhost:~/test$ singularity prep list-pieces 1
AttachmentID  SourceStorageID  
1             1                
    SourceStorage
        ID  Name    Type   Path                                            
        1   source  local  /tempDir/0  
    Pieces
        PieceCID                                                          PieceSize  RootCID                                                      FileSize  StoragePath  
        baga6ea4seaqdq5l5747tygg6nutzf5zluqibpx3h5btigvq6kbhpgrnygwencbi  67108864   bafkreihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku  23080634               
        baga6ea4seaqnwc43o6mkllje3cfqeidbxzwl4hzabyikhjx5yt3mo4mzqvgd4jy  67108864   bafybeigq5nnkq736nujpmqchv53ro4xtxvvcgjpsmbtc7fsaofplnzixte  8651                   

