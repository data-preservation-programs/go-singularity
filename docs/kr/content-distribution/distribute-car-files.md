# Singularity를 사용하여 CAR 파일 배포하기

데이터를 스토리지 제공자에서 쉽게 접근할 수 있도록하기 위해 CAR (Content Addressable Archive) 파일을 효과적으로 배포해야합니다.

## 1. 콘텐츠 제공자 서비스 시작하기

먼저 콘텐츠 제공자 서비스를 실행하여 시작합니다. 이 서비스는 준비한 데이터 세트의 조각을 다운로드하는 데 도움이 됩니다.

```sh
singularity run content-provider
```

## 2. CAR 파일 다운로드 방법

스토리지 제공자는 CAR 파일을 다운로드하기 위해 여러 가지 방법을 사용할 수 있습니다.

### 직접 HTTP 다운로드

제공자는 콘텐츠 제공자 서비스에 의해 노출된 HTTP API를 사용하여 CAR 파일을 직접 다운로드 할 수 있습니다:

```shell
wget http://127.0.0.1:7777/piece/bagaxxxxxxxxxxx
```
준비하는 동안 출력 디렉터리를 지정한 경우 CAR 파일은 그곳에서 직접 가져옵니다. 그러나 인라인 준비를 사용하거나 CAR 파일을 실수로 삭제한 경우 서비스는 원본 데이터 소스에서 내용을 검색하여 제공합니다.

### Singularity 다운로드 유틸리티
S3 또는 FTP와 같은 원격 데이터 소스를 다룰 때와 같이 대체 다운로드 방법을 찾는 제공자를 위해 Singularity는 고유한 다운로드 유틸리티를 제공합니다:
```shell
singularity download bagaxxxxxxxxxxx
```
이 유틸리티는 콘텐츠 제공자 서비스와 통신하여 조각에 대한 메타데이터를 가져옵니다.한번 가져오면 메타 데이터를 사용하여 조각을 원본 데이터 소스에서 직접 복구합니다.